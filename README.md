# TinkoffTestTask
Тестовое задание для Тинькофф

# Генерация тестовых файлов
Подпроект SourceFilesGenerator, класс com.lmm.tinkoff.task.filegen.GenerateSourceFilesMain. 
Аргументы командной строки передаются в формате ```<ключ> <значение>``` в любом порядке, все аргументы опциональные.

Ключи аргументов командной строки:

**-sourceDir**  - директория, в которую генерируются исходные файлы
**-filesList** - файл, куда будет записан список сгенерированных файлов
**-filesCount** - количество файлов
**-fileSize** - размер каждого файла в байтах
**-origin** - нижняя граница диапазона генерации
**-bound** - верхняя граница диапазона генерации

# Сборка
Перед запуском необходимо прописать url базы данных в src/main/resources/application.properties и src/test/resources/application.properties. 

Если при генерации файлов был изменен путь файла со списком сгенерированных файлов (опция **-filesList** генератора файлов),  то необходимо указать путь к этому файлу. Для этого необходимо после соответствующей команды запуска указать опцию
```-Dcom.lmm.tinkoff.task.files_list=<путь к файлу>``` или поменять свойства **source-files-list** и **test.source-files-list** в pom.xml.

Для запуска приложения с помощью Maven: ```mvn spring-boot:run```.

Для запуска тестов с помощью Maven: ```mvn test```.

При первом запуске производится индексация исходных файлов, операция займет длительное время. 
Директорию, в которой хранятся файлы с индексами, можно поменять с помощью опции ```-Dcom.lmm.tinkoff.task.index_dir=<путь к директории>``` или поменяв свойства **index-dir** и **test.index-dir** в pom.xml.


